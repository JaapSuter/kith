<!DOCTYPE html>
<html class='no-js' lang='en'>
<head>
  <meta charset='utf-8'>
  <!--[if IE]>
    <meta content='IE=edge' http-equiv='X-UA-Compatible' />
    <meta content='on' http-equiv='cleartype' />
    <meta content='True' name='HandheldFriendly' />
  <![endif]-->
  <meta name="viewport" content="width=device-width">
  <meta name="author" content="Hookt">
  <title>Matterizer</title>
  <link href='/css/head.css' rel='stylesheet'>
  <script src='js/head.js'></script>
</head>
<body>
  <div id="fb-root"></div>
  <script>
    function doSomething() {
      FB.api('/me', function (user) {
        if (user) {
          var image = document.getElementById('image');
          image.src = 'https://graph.facebook.com/' + user.id + '/picture';
          var name = document.getElementById('name');
          name.innerHTML = user.name

          foobar();
        }
      });
    }

    function login() {
      FB.login(function (response) {
        if (response.authResponse) {
          doSomething();
        } else {
          // cancelled
        }
      });
    }

    window.fbAsyncInit = function () {
      FB.init({
        appId: '394268797313341', // App ID
        channelUrl: '//localhost.com/channel.html', // Channel File
        status: true, // check login status
        cookie: true, // enable cookies to allow the server to access the session
        xfbml: true  // parse XFBML
      });

      FB.getLoginStatus(function(response) {
        if (response.status === 'connected') {
          doSomething();
          // connected
        } else if (response.status === 'not_authorized') {
          // not_authorized
          login();
        } else {
          // not_logged_in
          login();
        }
      });
    };
    
    // Load the SDK Asynchronously
    (function (d) {
      var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
      if (d.getElementById(id)) { return; }
      js = d.createElement('script'); js.id = id; js.async = true;
      js.src = "//connect.facebook.net/en_US/all/debug.js";
      ref.parentNode.insertBefore(js, ref);
    }(document));
  </script>

  <div align="center">
    <img id="image" />
    <div id="name"></div>
  </div>

  <h1>Matterize</h1>

</body>
</html>
